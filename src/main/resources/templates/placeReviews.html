<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<h1>장소 리뷰 페이지</h1>
<a href="registReview">리뷰 작성하기</a>

<script>
    $(document).ready(function () {
        let likeVal = document.getElementById('like_check').value
        const reviewNo = $("#reviewNo").val();
        const userNo = $("#userNo").val();
        console.log(userNo);
        console.log(likeVal);
        const likeImg = document.getElementById("likeImg")

        if (likeVal > 0) {
            likeImg.src = "/static/images/heart.png";
        } else {
            likeImg.src = "/static/images/empty_heart.png";
        }

        $("#likeImg").on("click", function () {
            $.ajax({
                url: '/placeReviews',
                type: 'POST',
                data: {'reviewNo': reviewNo, 'userNo': userNo},
                success: function (data) {
                    if (data == 1) {
                        $("#likeImg").attr("src", "/static/images/heart.png");
                        location.href="/placeReviews"

                    } else {
                        $("#likeImg").attr("src", "/static/images/empty_heart.png");
                        location.href="/placeReviews"
                    }
                }, error: function () {
                    $("#likeImg").attr("src", "/static/images/heart.png");
                    console.log('오타 찾으세요')
                }

            });

        });
    });

</script>
</body>
</html>